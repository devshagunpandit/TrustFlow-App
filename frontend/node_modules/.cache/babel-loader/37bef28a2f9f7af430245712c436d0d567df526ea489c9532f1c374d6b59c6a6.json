{"ast":null,"code":"var _jsxFileName = \"/workspaces/TrustFlow-App/frontend/src/pages/Signup.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Heart, Loader2, AlertCircle } from 'lucide-react';\nimport { supabase } from '@/lib/supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signup = () => {\n  _s();\n  // --- STATE MANAGEMENT ---\n  const [formData, setFormData] = useState({\n    fullName: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [loading, setLoading] = useState(false);\n\n  // Error States\n  const [error, setError] = useState(''); // General submit error\n  const [fieldErrors, setFieldErrors] = useState({\n    fullName: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const {\n    signUp\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // --- HELPERS ---\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.id]: e.target.value\n    });\n    // Clear main submit error when typing\n    if (error) setError('');\n  };\n  const clearFieldError = field => {\n    setFieldErrors(prev => ({\n      ...prev,\n      [field]: ''\n    }));\n    setError('');\n  };\n\n  // --- VALIDATION LOGIC ---\n  const handleEmailBlur = () => {\n    if (!formData.email) return;\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(formData.email)) {\n      setFieldErrors(prev => ({\n        ...prev,\n        email: \"Please enter a valid email address.\"\n      }));\n    }\n  };\n  const handlePasswordBlur = () => {\n    if (!formData.password) return;\n    if (formData.password.length < 6) {\n      setFieldErrors(prev => ({\n        ...prev,\n        password: \"Password must be at least 6 characters.\"\n      }));\n    }\n  };\n  const handleConfirmBlur = () => {\n    if (!formData.confirmPassword) return;\n    if (formData.password !== formData.confirmPassword) {\n      setFieldErrors(prev => ({\n        ...prev,\n        confirmPassword: \"Passwords do not match.\"\n      }));\n    }\n  };\n\n  // Helper to check email existence via RPC\n  const checkEmailExists = async email => {\n    try {\n      const {\n        data,\n        error\n      } = await supabase.rpc('check_email_exists', {\n        email_to_check: email\n      });\n      if (error) return false;\n      return data;\n    } catch {\n      return false;\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n\n    // 1. Manual Validation Check\n    let isValid = true;\n    const newErrors = {\n      fullName: '',\n      email: '',\n      password: '',\n      confirmPassword: ''\n    };\n\n    // Check Empty Fields\n    if (!formData.fullName.trim()) {\n      newErrors.fullName = \"Full Name is required.\";\n      isValid = false;\n    }\n    if (!formData.email.trim()) {\n      newErrors.email = \"Email is required.\";\n      isValid = false;\n    }\n    if (!formData.password) {\n      newErrors.password = \"Password is required.\";\n      isValid = false;\n    }\n    if (!formData.confirmPassword) {\n      newErrors.confirmPassword = \"Confirm Password is required.\";\n      isValid = false;\n    }\n\n    // Check Specific Logic (if not empty)\n    if (formData.password && formData.password.length < 6) {\n      newErrors.password = \"Password must be at least 6 characters.\";\n      isValid = false;\n    }\n    if (formData.confirmPassword && formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = \"Passwords do not match.\";\n      isValid = false;\n    }\n    setFieldErrors(newErrors);\n\n    // 2. STOP if validation failed (before loading starts)\n    if (!isValid) return;\n\n    // 3. START LOADING\n    setLoading(true);\n    try {\n      // Pre-check Email Existence\n      const emailExists = await checkEmailExists(formData.email);\n      if (emailExists) {\n        setFieldErrors(prev => ({\n          ...prev,\n          email: \"This email is already registered.\"\n        }));\n        setLoading(false);\n        return;\n      }\n\n      // Attempt Signup\n      const {\n        error\n      } = await signUp({\n        email: formData.email,\n        password: formData.password,\n        options: {\n          data: {\n            full_name: formData.fullName\n          }\n        }\n      });\n      if (error) throw error;\n\n      // Success\n      navigate('/dashboard');\n    } catch (error) {\n      let msg = error.message;\n\n      // FIX: Handle Codespaces \"Stream\" Crash\n      if (msg.includes(\"body stream\") || msg.includes(\"json\") || msg.includes(\"Failed to execute\")) {\n        // If it crashes here during signup, it usually means success or standard error\n        // We assume it might be a generic error for safety\n        msg = \"An error occurred. Please try again.\";\n      } else if (msg.includes(\"already registered\")) {\n        msg = \"This email is already in use.\";\n      }\n      setError(msg);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-violet-50 via-background to-indigo-50 dark:from-violet-950/20 dark:via-background dark:to-indigo-950/20 p-4\",\n    \"x-file-name\": \"Signup\",\n    \"x-line-number\": \"173\",\n    \"x-component\": \"div\",\n    \"x-id\": \"Signup_173\",\n    \"x-dynamic\": \"false\",\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      className: \"w-full max-w-md\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"flex items-center justify-center gap-2 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-10 h-10 bg-gradient-to-br from-violet-600 to-indigo-600 rounded-xl flex items-center justify-center\",\n          \"x-file-name\": \"Signup\",\n          \"x-line-number\": \"181\",\n          \"x-component\": \"div\",\n          \"x-id\": \"Signup_181\",\n          \"x-dynamic\": \"false\",\n          children: /*#__PURE__*/_jsxDEV(Heart, {\n            className: \"w-6 h-6 text-white\",\n            \"x-file-name\": \"Signup\",\n            \"x-line-number\": \"182\",\n            \"x-component\": \"Heart\",\n            \"x-id\": \"Signup_182\",\n            \"x-dynamic\": \"false\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl font-bold bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent\",\n          \"x-file-name\": \"Signup\",\n          \"x-line-number\": \"184\",\n          \"x-component\": \"span\",\n          \"x-id\": \"Signup_184\",\n          \"x-dynamic\": \"false\",\n          children: \"TrustFlow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"backdrop-blur-sm bg-white/80 dark:bg-gray-900/80 shadow-xl border-violet-100 dark:border-violet-900/50\",\n        \"x-file-name\": \"Signup\",\n        \"x-line-number\": \"189\",\n        \"x-component\": \"Card\",\n        \"x-id\": \"Signup_189\",\n        \"x-dynamic\": \"true\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"text-center\",\n          \"x-file-name\": \"Signup\",\n          \"x-line-number\": \"190\",\n          \"x-component\": \"CardHeader\",\n          \"x-id\": \"Signup_190\",\n          \"x-dynamic\": \"true\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-2xl\",\n            \"x-file-name\": \"Signup\",\n            \"x-line-number\": \"191\",\n            \"x-component\": \"CardTitle\",\n            \"x-id\": \"Signup_191\",\n            \"x-dynamic\": \"false\",\n            children: \"Create an account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            \"x-file-name\": \"Signup\",\n            \"x-line-number\": \"192\",\n            \"x-component\": \"CardDescription\",\n            \"x-id\": \"Signup_192\",\n            \"x-dynamic\": \"false\",\n            children: \"Start collecting testimonials in minutes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          \"x-file-name\": \"Signup\",\n          \"x-line-number\": \"194\",\n          \"x-component\": \"CardContent\",\n          \"x-id\": \"Signup_194\",\n          \"x-dynamic\": \"true\",\n          \"x-excluded\": \"true\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"space-y-4\",\n            noValidate: true,\n            \"x-file-name\": \"Signup\",\n            \"x-line-number\": \"196\",\n            \"x-component\": \"form\",\n            \"x-id\": \"Signup_196\",\n            \"x-dynamic\": \"true\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              \"x-file-name\": \"Signup\",\n              \"x-line-number\": \"199\",\n              \"x-component\": \"div\",\n              \"x-id\": \"Signup_199\",\n              \"x-dynamic\": \"true\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"fullName\",\n                className: fieldErrors.fullName ? \"text-red-500\" : \"\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"200\",\n                \"x-component\": \"Label\",\n                \"x-id\": \"Signup_200\",\n                \"x-dynamic\": \"false\",\n                children: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"fullName\",\n                type: \"text\",\n                placeholder: \"John Doe\",\n                value: formData.fullName,\n                onChange: handleChange,\n                onFocus: () => clearFieldError('fullName'),\n                className: fieldErrors.fullName ? \"border-red-500 focus-visible:ring-red-500\" : \"\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"201\",\n                \"x-component\": \"Input\",\n                \"x-id\": \"Signup_201\",\n                \"x-dynamic\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), fieldErrors.fullName && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-red-500 font-medium mt-1 animate-in slide-in-from-top-1\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"211\",\n                \"x-component\": \"p\",\n                \"x-id\": \"Signup_211\",\n                \"x-dynamic\": \"true\",\n                children: fieldErrors.fullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              \"x-file-name\": \"Signup\",\n              \"x-line-number\": \"218\",\n              \"x-component\": \"div\",\n              \"x-id\": \"Signup_218\",\n              \"x-dynamic\": \"true\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"email\",\n                className: fieldErrors.email ? \"text-red-500\" : \"\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"219\",\n                \"x-component\": \"Label\",\n                \"x-id\": \"Signup_219\",\n                \"x-dynamic\": \"false\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"email\",\n                type: \"email\",\n                placeholder: \"name@example.com\",\n                value: formData.email,\n                onChange: handleChange,\n                onBlur: handleEmailBlur,\n                onFocus: () => clearFieldError('email'),\n                className: fieldErrors.email ? \"border-red-500 focus-visible:ring-red-500\" : \"\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"220\",\n                \"x-component\": \"Input\",\n                \"x-id\": \"Signup_220\",\n                \"x-dynamic\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), fieldErrors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-red-500 font-medium mt-1 animate-in slide-in-from-top-1\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"231\",\n                \"x-component\": \"p\",\n                \"x-id\": \"Signup_231\",\n                \"x-dynamic\": \"true\",\n                children: fieldErrors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              \"x-file-name\": \"Signup\",\n              \"x-line-number\": \"238\",\n              \"x-component\": \"div\",\n              \"x-id\": \"Signup_238\",\n              \"x-dynamic\": \"true\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"password\",\n                className: fieldErrors.password ? \"text-red-500\" : \"\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"239\",\n                \"x-component\": \"Label\",\n                \"x-id\": \"Signup_239\",\n                \"x-dynamic\": \"false\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"password\",\n                type: \"password\",\n                placeholder: \"Create a password\",\n                value: formData.password,\n                onChange: handleChange,\n                onBlur: handlePasswordBlur,\n                onFocus: () => clearFieldError('password'),\n                className: fieldErrors.password ? \"border-red-500 focus-visible:ring-red-500\" : \"\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"240\",\n                \"x-component\": \"Input\",\n                \"x-id\": \"Signup_240\",\n                \"x-dynamic\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this), fieldErrors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-red-500 font-medium mt-1 animate-in slide-in-from-top-1\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"251\",\n                \"x-component\": \"p\",\n                \"x-id\": \"Signup_251\",\n                \"x-dynamic\": \"true\",\n                children: fieldErrors.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              \"x-file-name\": \"Signup\",\n              \"x-line-number\": \"258\",\n              \"x-component\": \"div\",\n              \"x-id\": \"Signup_258\",\n              \"x-dynamic\": \"true\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"confirmPassword\",\n                className: fieldErrors.confirmPassword ? \"text-red-500\" : \"\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"259\",\n                \"x-component\": \"Label\",\n                \"x-id\": \"Signup_259\",\n                \"x-dynamic\": \"false\",\n                children: \"Confirm Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"confirmPassword\",\n                type: \"password\",\n                placeholder: \"Confirm your password\",\n                value: formData.confirmPassword,\n                onChange: handleChange,\n                onBlur: handleConfirmBlur,\n                onFocus: () => clearFieldError('confirmPassword'),\n                className: fieldErrors.confirmPassword ? \"border-red-500 focus-visible:ring-red-500\" : \"\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"260\",\n                \"x-component\": \"Input\",\n                \"x-id\": \"Signup_260\",\n                \"x-dynamic\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this), fieldErrors.confirmPassword && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-red-500 font-medium mt-1 animate-in slide-in-from-top-1\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"271\",\n                \"x-component\": \"p\",\n                \"x-id\": \"Signup_271\",\n                \"x-dynamic\": \"true\",\n                children: fieldErrors.confirmPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-4 text-sm text-red-600 font-medium animate-in fade-in slide-in-from-top-1\",\n              \"x-file-name\": \"Signup\",\n              \"x-line-number\": \"279\",\n              \"x-component\": \"div\",\n              \"x-id\": \"Signup_279\",\n              \"x-dynamic\": \"true\",\n              children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                className: \"h-4 w-4\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"280\",\n                \"x-component\": \"AlertCircle\",\n                \"x-id\": \"Signup_280\",\n                \"x-dynamic\": \"false\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 19\n              }, this), error]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              className: \"w-full bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700\",\n              disabled: loading,\n              \"x-file-name\": \"Signup\",\n              \"x-line-number\": \"285\",\n              \"x-component\": \"Button\",\n              \"x-id\": \"Signup_285\",\n              \"x-dynamic\": \"true\",\n              children: [loading && /*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"w-4 h-4 mr-2 animate-spin\",\n                \"x-file-name\": \"Signup\",\n                \"x-line-number\": \"290\",\n                \"x-component\": \"Loader2\",\n                \"x-id\": \"Signup_290\",\n                \"x-dynamic\": \"false\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 29\n              }, this), \"Create Account\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 text-center text-sm\",\n            \"x-file-name\": \"Signup\",\n            \"x-line-number\": \"295\",\n            \"x-component\": \"div\",\n            \"x-id\": \"Signup_295\",\n            \"x-dynamic\": \"true\",\n            children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              className: \"text-violet-600 hover:underline font-medium\",\n              children: \"Sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n};\n_s(Signup, \"jZuz2CZyU5RZiqN7JUwseezCgqs=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","Link","useNavigate","motion","Button","Input","Label","Card","CardContent","CardDescription","CardHeader","CardTitle","useAuth","Heart","Loader2","AlertCircle","supabase","jsxDEV","_jsxDEV","Signup","_s","formData","setFormData","fullName","email","password","confirmPassword","loading","setLoading","error","setError","fieldErrors","setFieldErrors","signUp","navigate","handleChange","e","target","id","value","clearFieldError","field","prev","handleEmailBlur","emailRegex","test","handlePasswordBlur","length","handleConfirmBlur","checkEmailExists","data","rpc","email_to_check","handleSubmit","preventDefault","isValid","newErrors","trim","emailExists","options","full_name","msg","message","includes","className","children","div","initial","opacity","y","animate","to","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","noValidate","htmlFor","type","placeholder","onChange","onFocus","onBlur","disabled","_c","$RefreshReg$"],"sources":["/workspaces/TrustFlow-App/frontend/src/pages/Signup.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Heart, Loader2, AlertCircle } from 'lucide-react';\nimport { supabase } from '@/lib/supabase';\n\nconst Signup = () => {\n  // --- STATE MANAGEMENT ---\n  const [formData, setFormData] = useState({\n    fullName: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [loading, setLoading] = useState(false);\n  \n  // Error States\n  const [error, setError] = useState(''); // General submit error\n  const [fieldErrors, setFieldErrors] = useState({\n    fullName: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n\n  const { signUp } = useAuth();\n  const navigate = useNavigate();\n\n  // --- HELPERS ---\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.id]: e.target.value });\n    // Clear main submit error when typing\n    if (error) setError('');\n  };\n\n  const clearFieldError = (field) => {\n    setFieldErrors(prev => ({ ...prev, [field]: '' }));\n    setError('');\n  };\n\n  // --- VALIDATION LOGIC ---\n  const handleEmailBlur = () => {\n    if (!formData.email) return;\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(formData.email)) {\n      setFieldErrors(prev => ({ ...prev, email: \"Please enter a valid email address.\" }));\n    }\n  };\n\n  const handlePasswordBlur = () => {\n    if (!formData.password) return;\n    if (formData.password.length < 6) {\n      setFieldErrors(prev => ({ ...prev, password: \"Password must be at least 6 characters.\" }));\n    }\n  };\n\n  const handleConfirmBlur = () => {\n    if (!formData.confirmPassword) return;\n    if (formData.password !== formData.confirmPassword) {\n      setFieldErrors(prev => ({ ...prev, confirmPassword: \"Passwords do not match.\" }));\n    }\n  };\n\n  // Helper to check email existence via RPC\n  const checkEmailExists = async (email) => {\n    try {\n      const { data, error } = await supabase.rpc('check_email_exists', { email_to_check: email });\n      if (error) return false; \n      return data;\n    } catch {\n      return false;\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    \n    // 1. Manual Validation Check\n    let isValid = true;\n    const newErrors = { fullName: '', email: '', password: '', confirmPassword: '' };\n\n    // Check Empty Fields\n    if (!formData.fullName.trim()) {\n      newErrors.fullName = \"Full Name is required.\";\n      isValid = false;\n    }\n    if (!formData.email.trim()) {\n      newErrors.email = \"Email is required.\";\n      isValid = false;\n    }\n    if (!formData.password) {\n      newErrors.password = \"Password is required.\";\n      isValid = false;\n    }\n    if (!formData.confirmPassword) {\n      newErrors.confirmPassword = \"Confirm Password is required.\";\n      isValid = false;\n    }\n\n    // Check Specific Logic (if not empty)\n    if (formData.password && formData.password.length < 6) {\n      newErrors.password = \"Password must be at least 6 characters.\";\n      isValid = false;\n    }\n    if (formData.confirmPassword && formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = \"Passwords do not match.\";\n      isValid = false;\n    }\n\n    setFieldErrors(newErrors);\n\n    // 2. STOP if validation failed (before loading starts)\n    if (!isValid) return;\n\n    // 3. START LOADING\n    setLoading(true);\n\n    try {\n      // Pre-check Email Existence\n      const emailExists = await checkEmailExists(formData.email);\n      if (emailExists) {\n        setFieldErrors(prev => ({ ...prev, email: \"This email is already registered.\" }));\n        setLoading(false);\n        return;\n      }\n\n      // Attempt Signup\n      const { error } = await signUp({\n        email: formData.email,\n        password: formData.password,\n        options: {\n          data: {\n            full_name: formData.fullName,\n          },\n        },\n      });\n\n      if (error) throw error;\n\n      // Success\n      navigate('/dashboard');\n      \n    } catch (error) {\n      let msg = error.message;\n\n      // FIX: Handle Codespaces \"Stream\" Crash\n      if (\n        msg.includes(\"body stream\") || \n        msg.includes(\"json\") || \n        msg.includes(\"Failed to execute\")\n      ) {\n        // If it crashes here during signup, it usually means success or standard error\n        // We assume it might be a generic error for safety\n        msg = \"An error occurred. Please try again.\";\n      }\n      else if (msg.includes(\"already registered\")) {\n        msg = \"This email is already in use.\";\n      }\n      \n      setError(msg);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-violet-50 via-background to-indigo-50 dark:from-violet-950/20 dark:via-background dark:to-indigo-950/20 p-4\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"w-full max-w-md\"\n      >\n        {/* Logo */}\n        <Link to=\"/\" className=\"flex items-center justify-center gap-2 mb-8\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-violet-600 to-indigo-600 rounded-xl flex items-center justify-center\">\n            <Heart className=\"w-6 h-6 text-white\" />\n          </div>\n          <span className=\"text-2xl font-bold bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent\">\n            TrustFlow\n          </span>\n        </Link>\n\n        <Card className=\"backdrop-blur-sm bg-white/80 dark:bg-gray-900/80 shadow-xl border-violet-100 dark:border-violet-900/50\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-2xl\">Create an account</CardTitle>\n            <CardDescription>Start collecting testimonials in minutes</CardDescription>\n          </CardHeader>\n          <CardContent>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-4\" noValidate>\n              \n              {/* Full Name */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"fullName\" className={fieldErrors.fullName ? \"text-red-500\" : \"\"}>Full Name</Label>\n                <Input\n                  id=\"fullName\"\n                  type=\"text\"\n                  placeholder=\"John Doe\"\n                  value={formData.fullName}\n                  onChange={handleChange}\n                  onFocus={() => clearFieldError('fullName')}\n                  className={fieldErrors.fullName ? \"border-red-500 focus-visible:ring-red-500\" : \"\"}\n                />\n                {fieldErrors.fullName && (\n                  <p className=\"text-xs text-red-500 font-medium mt-1 animate-in slide-in-from-top-1\">\n                    {fieldErrors.fullName}\n                  </p>\n                )}\n              </div>\n\n              {/* Email */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\" className={fieldErrors.email ? \"text-red-500\" : \"\"}>Email</Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"name@example.com\"\n                  value={formData.email}\n                  onChange={handleChange}\n                  onBlur={handleEmailBlur}\n                  onFocus={() => clearFieldError('email')}\n                  className={fieldErrors.email ? \"border-red-500 focus-visible:ring-red-500\" : \"\"}\n                />\n                {fieldErrors.email && (\n                  <p className=\"text-xs text-red-500 font-medium mt-1 animate-in slide-in-from-top-1\">\n                    {fieldErrors.email}\n                  </p>\n                )}\n              </div>\n\n              {/* Password */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\" className={fieldErrors.password ? \"text-red-500\" : \"\"}>Password</Label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"Create a password\"\n                  value={formData.password}\n                  onChange={handleChange}\n                  onBlur={handlePasswordBlur}\n                  onFocus={() => clearFieldError('password')}\n                  className={fieldErrors.password ? \"border-red-500 focus-visible:ring-red-500\" : \"\"}\n                />\n                {fieldErrors.password && (\n                  <p className=\"text-xs text-red-500 font-medium mt-1 animate-in slide-in-from-top-1\">\n                    {fieldErrors.password}\n                  </p>\n                )}\n              </div>\n\n              {/* Confirm Password */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"confirmPassword\" className={fieldErrors.confirmPassword ? \"text-red-500\" : \"\"}>Confirm Password</Label>\n                <Input\n                  id=\"confirmPassword\"\n                  type=\"password\"\n                  placeholder=\"Confirm your password\"\n                  value={formData.confirmPassword}\n                  onChange={handleChange}\n                  onBlur={handleConfirmBlur}\n                  onFocus={() => clearFieldError('confirmPassword')}\n                  className={fieldErrors.confirmPassword ? \"border-red-500 focus-visible:ring-red-500\" : \"\"}\n                />\n                {fieldErrors.confirmPassword && (\n                  <p className=\"text-xs text-red-500 font-medium mt-1 animate-in slide-in-from-top-1\">\n                    {fieldErrors.confirmPassword}\n                  </p>\n                )}\n              </div>\n\n              {/* General Error Message (Standalone Text) */}\n              {error && (\n                <div className=\"flex items-center gap-2 mb-4 text-sm text-red-600 font-medium animate-in fade-in slide-in-from-top-1\">\n                  <AlertCircle className=\"h-4 w-4\" />\n                  {error}\n                </div>\n              )}\n\n              <Button \n                type=\"submit\" \n                className=\"w-full bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700\"\n                disabled={loading}\n              >\n                {loading && <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />}\n                Create Account\n              </Button>\n            </form>\n\n            <div className=\"mt-6 text-center text-sm\">\n              Already have an account?{' '}\n              <Link to=\"/login\" className=\"text-violet-600 hover:underline font-medium\">\n                Sign in\n              </Link>\n            </div>\n          </CardContent>\n        </Card>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default Signup;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASC,MAAM,QAAQ,wBAAwB;AAC/C,SAASC,KAAK,QAAQ,uBAAuB;AAC7C,SAASC,KAAK,QAAQ,uBAAuB;AAC7C,SAASC,IAAI,EAAEC,WAAW,EAAEC,eAAe,EAAEC,UAAU,EAAEC,SAAS,QAAQ,sBAAsB;AAChG,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,KAAK,EAAEC,OAAO,EAAEC,WAAW,QAAQ,cAAc;AAC1D,SAASC,QAAQ,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB;EACA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGtB,QAAQ,CAAC;IACvCuB,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,eAAe,EAAE;EACnB,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;;EAE7C;EACA,MAAM,CAAC6B,KAAK,EAAEC,QAAQ,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EACxC,MAAM,CAAC+B,WAAW,EAAEC,cAAc,CAAC,GAAGhC,QAAQ,CAAC;IAC7CuB,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,eAAe,EAAE;EACnB,CAAC,CAAC;EAEF,MAAM;IAAEO;EAAO,CAAC,GAAGrB,OAAO,CAAC,CAAC;EAC5B,MAAMsB,QAAQ,GAAGhC,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAMiC,YAAY,GAAIC,CAAC,IAAK;IAC1Bd,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAE,CAACe,CAAC,CAACC,MAAM,CAACC,EAAE,GAAGF,CAAC,CAACC,MAAM,CAACE;IAAM,CAAC,CAAC;IAC3D;IACA,IAAIV,KAAK,EAAEC,QAAQ,CAAC,EAAE,CAAC;EACzB,CAAC;EAED,MAAMU,eAAe,GAAIC,KAAK,IAAK;IACjCT,cAAc,CAACU,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACD,KAAK,GAAG;IAAG,CAAC,CAAC,CAAC;IAClDX,QAAQ,CAAC,EAAE,CAAC;EACd,CAAC;;EAED;EACA,MAAMa,eAAe,GAAGA,CAAA,KAAM;IAC5B,IAAI,CAACtB,QAAQ,CAACG,KAAK,EAAE;IACrB,MAAMoB,UAAU,GAAG,4BAA4B;IAC/C,IAAI,CAACA,UAAU,CAACC,IAAI,CAACxB,QAAQ,CAACG,KAAK,CAAC,EAAE;MACpCQ,cAAc,CAACU,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAElB,KAAK,EAAE;MAAsC,CAAC,CAAC,CAAC;IACrF;EACF,CAAC;EAED,MAAMsB,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAI,CAACzB,QAAQ,CAACI,QAAQ,EAAE;IACxB,IAAIJ,QAAQ,CAACI,QAAQ,CAACsB,MAAM,GAAG,CAAC,EAAE;MAChCf,cAAc,CAACU,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAEjB,QAAQ,EAAE;MAA0C,CAAC,CAAC,CAAC;IAC5F;EACF,CAAC;EAED,MAAMuB,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAI,CAAC3B,QAAQ,CAACK,eAAe,EAAE;IAC/B,IAAIL,QAAQ,CAACI,QAAQ,KAAKJ,QAAQ,CAACK,eAAe,EAAE;MAClDM,cAAc,CAACU,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAEhB,eAAe,EAAE;MAA0B,CAAC,CAAC,CAAC;IACnF;EACF,CAAC;;EAED;EACA,MAAMuB,gBAAgB,GAAG,MAAOzB,KAAK,IAAK;IACxC,IAAI;MACF,MAAM;QAAE0B,IAAI;QAAErB;MAAM,CAAC,GAAG,MAAMb,QAAQ,CAACmC,GAAG,CAAC,oBAAoB,EAAE;QAAEC,cAAc,EAAE5B;MAAM,CAAC,CAAC;MAC3F,IAAIK,KAAK,EAAE,OAAO,KAAK;MACvB,OAAOqB,IAAI;IACb,CAAC,CAAC,MAAM;MACN,OAAO,KAAK;IACd;EACF,CAAC;EAED,MAAMG,YAAY,GAAG,MAAOjB,CAAC,IAAK;IAChCA,CAAC,CAACkB,cAAc,CAAC,CAAC;IAClBxB,QAAQ,CAAC,EAAE,CAAC;;IAEZ;IACA,IAAIyB,OAAO,GAAG,IAAI;IAClB,MAAMC,SAAS,GAAG;MAAEjC,QAAQ,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,QAAQ,EAAE,EAAE;MAAEC,eAAe,EAAE;IAAG,CAAC;;IAEhF;IACA,IAAI,CAACL,QAAQ,CAACE,QAAQ,CAACkC,IAAI,CAAC,CAAC,EAAE;MAC7BD,SAAS,CAACjC,QAAQ,GAAG,wBAAwB;MAC7CgC,OAAO,GAAG,KAAK;IACjB;IACA,IAAI,CAAClC,QAAQ,CAACG,KAAK,CAACiC,IAAI,CAAC,CAAC,EAAE;MAC1BD,SAAS,CAAChC,KAAK,GAAG,oBAAoB;MACtC+B,OAAO,GAAG,KAAK;IACjB;IACA,IAAI,CAAClC,QAAQ,CAACI,QAAQ,EAAE;MACtB+B,SAAS,CAAC/B,QAAQ,GAAG,uBAAuB;MAC5C8B,OAAO,GAAG,KAAK;IACjB;IACA,IAAI,CAAClC,QAAQ,CAACK,eAAe,EAAE;MAC7B8B,SAAS,CAAC9B,eAAe,GAAG,+BAA+B;MAC3D6B,OAAO,GAAG,KAAK;IACjB;;IAEA;IACA,IAAIlC,QAAQ,CAACI,QAAQ,IAAIJ,QAAQ,CAACI,QAAQ,CAACsB,MAAM,GAAG,CAAC,EAAE;MACrDS,SAAS,CAAC/B,QAAQ,GAAG,yCAAyC;MAC9D8B,OAAO,GAAG,KAAK;IACjB;IACA,IAAIlC,QAAQ,CAACK,eAAe,IAAIL,QAAQ,CAACI,QAAQ,KAAKJ,QAAQ,CAACK,eAAe,EAAE;MAC9E8B,SAAS,CAAC9B,eAAe,GAAG,yBAAyB;MACrD6B,OAAO,GAAG,KAAK;IACjB;IAEAvB,cAAc,CAACwB,SAAS,CAAC;;IAEzB;IACA,IAAI,CAACD,OAAO,EAAE;;IAEd;IACA3B,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF;MACA,MAAM8B,WAAW,GAAG,MAAMT,gBAAgB,CAAC5B,QAAQ,CAACG,KAAK,CAAC;MAC1D,IAAIkC,WAAW,EAAE;QACf1B,cAAc,CAACU,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAElB,KAAK,EAAE;QAAoC,CAAC,CAAC,CAAC;QACjFI,UAAU,CAAC,KAAK,CAAC;QACjB;MACF;;MAEA;MACA,MAAM;QAAEC;MAAM,CAAC,GAAG,MAAMI,MAAM,CAAC;QAC7BT,KAAK,EAAEH,QAAQ,CAACG,KAAK;QACrBC,QAAQ,EAAEJ,QAAQ,CAACI,QAAQ;QAC3BkC,OAAO,EAAE;UACPT,IAAI,EAAE;YACJU,SAAS,EAAEvC,QAAQ,CAACE;UACtB;QACF;MACF,CAAC,CAAC;MAEF,IAAIM,KAAK,EAAE,MAAMA,KAAK;;MAEtB;MACAK,QAAQ,CAAC,YAAY,CAAC;IAExB,CAAC,CAAC,OAAOL,KAAK,EAAE;MACd,IAAIgC,GAAG,GAAGhC,KAAK,CAACiC,OAAO;;MAEvB;MACA,IACED,GAAG,CAACE,QAAQ,CAAC,aAAa,CAAC,IAC3BF,GAAG,CAACE,QAAQ,CAAC,MAAM,CAAC,IACpBF,GAAG,CAACE,QAAQ,CAAC,mBAAmB,CAAC,EACjC;QACA;QACA;QACAF,GAAG,GAAG,sCAAsC;MAC9C,CAAC,MACI,IAAIA,GAAG,CAACE,QAAQ,CAAC,oBAAoB,CAAC,EAAE;QAC3CF,GAAG,GAAG,+BAA+B;MACvC;MAEA/B,QAAQ,CAAC+B,GAAG,CAAC;IACf,CAAC,SAAS;MACRjC,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEV,OAAA;IAAK8C,SAAS,EAAC,kLAAkL;IAAA;IAAA;IAAA;IAAA;IAAA;IAAAC,QAAA,eAC/L/C,OAAA,CAACf,MAAM,CAAC+D,GAAG;MACTC,OAAO,EAAE;QAAEC,OAAO,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAG,CAAE;MAC/BC,OAAO,EAAE;QAAEF,OAAO,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE,CAAE;MAC9BL,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAG3B/C,OAAA,CAACjB,IAAI;QAACsE,EAAE,EAAC,GAAG;QAACP,SAAS,EAAC,6CAA6C;QAAAC,QAAA,gBAClE/C,OAAA;UAAK8C,SAAS,EAAC,uGAAuG;UAAA;UAAA;UAAA;UAAA;UAAA;UAAAC,QAAA,eACpH/C,OAAA,CAACL,KAAK;YAACmD,SAAS,EAAC,oBAAoB;YAAA;YAAA;YAAA;YAAA;YAAA;UAAA;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC,eACNzD,OAAA;UAAM8C,SAAS,EAAC,iGAAiG;UAAA;UAAA;UAAA;UAAA;UAAA;UAAAC,QAAA,EAAC;QAElH;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEPzD,OAAA,CAACX,IAAI;QAACyD,SAAS,EAAC,wGAAwG;QAAA;QAAA;QAAA;QAAA;QAAA;QAAAC,QAAA,gBACtH/C,OAAA,CAACR,UAAU;UAACsD,SAAS,EAAC,aAAa;UAAA;UAAA;UAAA;UAAA;UAAA;UAAAC,QAAA,gBACjC/C,OAAA,CAACP,SAAS;YAACqD,SAAS,EAAC,UAAU;YAAA;YAAA;YAAA;YAAA;YAAA;YAAAC,QAAA,EAAC;UAAiB;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAW,CAAC,eAC7DzD,OAAA,CAACT,eAAe;YAAA;YAAA;YAAA;YAAA;YAAA;YAAAwD,QAAA,EAAC;UAAwC;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAiB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjE,CAAC,eACbzD,OAAA,CAACV,WAAW;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAAyD,QAAA,gBAEV/C,OAAA;YAAM0D,QAAQ,EAAEvB,YAAa;YAACW,SAAS,EAAC,WAAW;YAACa,UAAU;YAAA;YAAA;YAAA;YAAA;YAAA;YAAAZ,QAAA,gBAG5D/C,OAAA;cAAK8C,SAAS,EAAC,WAAW;cAAA;cAAA;cAAA;cAAA;cAAA;cAAAC,QAAA,gBACxB/C,OAAA,CAACZ,KAAK;gBAACwE,OAAO,EAAC,UAAU;gBAACd,SAAS,EAAEjC,WAAW,CAACR,QAAQ,GAAG,cAAc,GAAG,EAAG;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA0C,QAAA,EAAC;cAAS;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAClGzD,OAAA,CAACb,KAAK;gBACJiC,EAAE,EAAC,UAAU;gBACbyC,IAAI,EAAC,MAAM;gBACXC,WAAW,EAAC,UAAU;gBACtBzC,KAAK,EAAElB,QAAQ,CAACE,QAAS;gBACzB0D,QAAQ,EAAE9C,YAAa;gBACvB+C,OAAO,EAAEA,CAAA,KAAM1C,eAAe,CAAC,UAAU,CAAE;gBAC3CwB,SAAS,EAAEjC,WAAW,CAACR,QAAQ,GAAG,2CAA2C,GAAG,EAAG;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAAiD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpF,CAAC,EACD5C,WAAW,CAACR,QAAQ,iBACnBL,OAAA;gBAAG8C,SAAS,EAAC,sEAAsE;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;gBAAAC,QAAA,EAChFlC,WAAW,CAACR;cAAQ;gBAAAiD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpB,CACJ;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAGNzD,OAAA;cAAK8C,SAAS,EAAC,WAAW;cAAA;cAAA;cAAA;cAAA;cAAA;cAAAC,QAAA,gBACxB/C,OAAA,CAACZ,KAAK;gBAACwE,OAAO,EAAC,OAAO;gBAACd,SAAS,EAAEjC,WAAW,CAACP,KAAK,GAAG,cAAc,GAAG,EAAG;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;gBAAAyC,QAAA,EAAC;cAAK;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACxFzD,OAAA,CAACb,KAAK;gBACJiC,EAAE,EAAC,OAAO;gBACVyC,IAAI,EAAC,OAAO;gBACZC,WAAW,EAAC,kBAAkB;gBAC9BzC,KAAK,EAAElB,QAAQ,CAACG,KAAM;gBACtByD,QAAQ,EAAE9C,YAAa;gBACvBgD,MAAM,EAAExC,eAAgB;gBACxBuC,OAAO,EAAEA,CAAA,KAAM1C,eAAe,CAAC,OAAO,CAAE;gBACxCwB,SAAS,EAAEjC,WAAW,CAACP,KAAK,GAAG,2CAA2C,GAAG,EAAG;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAAgD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjF,CAAC,EACD5C,WAAW,CAACP,KAAK,iBAChBN,OAAA;gBAAG8C,SAAS,EAAC,sEAAsE;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;gBAAAC,QAAA,EAChFlC,WAAW,CAACP;cAAK;gBAAAgD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjB,CACJ;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAGNzD,OAAA;cAAK8C,SAAS,EAAC,WAAW;cAAA;cAAA;cAAA;cAAA;cAAA;cAAAC,QAAA,gBACxB/C,OAAA,CAACZ,KAAK;gBAACwE,OAAO,EAAC,UAAU;gBAACd,SAAS,EAAEjC,WAAW,CAACN,QAAQ,GAAG,cAAc,GAAG,EAAG;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;gBAAAwC,QAAA,EAAC;cAAQ;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACjGzD,OAAA,CAACb,KAAK;gBACJiC,EAAE,EAAC,UAAU;gBACbyC,IAAI,EAAC,UAAU;gBACfC,WAAW,EAAC,mBAAmB;gBAC/BzC,KAAK,EAAElB,QAAQ,CAACI,QAAS;gBACzBwD,QAAQ,EAAE9C,YAAa;gBACvBgD,MAAM,EAAErC,kBAAmB;gBAC3BoC,OAAO,EAAEA,CAAA,KAAM1C,eAAe,CAAC,UAAU,CAAE;gBAC3CwB,SAAS,EAAEjC,WAAW,CAACN,QAAQ,GAAG,2CAA2C,GAAG,EAAG;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA+C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpF,CAAC,EACD5C,WAAW,CAACN,QAAQ,iBACnBP,OAAA;gBAAG8C,SAAS,EAAC,sEAAsE;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;gBAAAC,QAAA,EAChFlC,WAAW,CAACN;cAAQ;gBAAA+C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpB,CACJ;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAGNzD,OAAA;cAAK8C,SAAS,EAAC,WAAW;cAAA;cAAA;cAAA;cAAA;cAAA;cAAAC,QAAA,gBACxB/C,OAAA,CAACZ,KAAK;gBAACwE,OAAO,EAAC,iBAAiB;gBAACd,SAAS,EAAEjC,WAAW,CAACL,eAAe,GAAG,cAAc,GAAG,EAAG;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;gBAAAuC,QAAA,EAAC;cAAgB;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACvHzD,OAAA,CAACb,KAAK;gBACJiC,EAAE,EAAC,iBAAiB;gBACpByC,IAAI,EAAC,UAAU;gBACfC,WAAW,EAAC,uBAAuB;gBACnCzC,KAAK,EAAElB,QAAQ,CAACK,eAAgB;gBAChCuD,QAAQ,EAAE9C,YAAa;gBACvBgD,MAAM,EAAEnC,iBAAkB;gBAC1BkC,OAAO,EAAEA,CAAA,KAAM1C,eAAe,CAAC,iBAAiB,CAAE;gBAClDwB,SAAS,EAAEjC,WAAW,CAACL,eAAe,GAAG,2CAA2C,GAAG,EAAG;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA8C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3F,CAAC,EACD5C,WAAW,CAACL,eAAe,iBAC1BR,OAAA;gBAAG8C,SAAS,EAAC,sEAAsE;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;gBAAAC,QAAA,EAChFlC,WAAW,CAACL;cAAe;gBAAA8C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CACJ;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,EAGL9C,KAAK,iBACJX,OAAA;cAAK8C,SAAS,EAAC,sGAAsG;cAAA;cAAA;cAAA;cAAA;cAAA;cAAAC,QAAA,gBACnH/C,OAAA,CAACH,WAAW;gBAACiD,SAAS,EAAC,SAAS;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAClC9C,KAAK;YAAA;cAAA2C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN,eAEDzD,OAAA,CAACd,MAAM;cACL2E,IAAI,EAAC,QAAQ;cACbf,SAAS,EAAC,iGAAiG;cAC3GoB,QAAQ,EAAEzD,OAAQ;cAAA;cAAA;cAAA;cAAA;cAAA;cAAAsC,QAAA,GAEjBtC,OAAO,iBAAIT,OAAA,CAACJ,OAAO;gBAACkD,SAAS,EAAC,2BAA2B;gBAAA;gBAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAAC,gBAEhE;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAEPzD,OAAA;YAAK8C,SAAS,EAAC,0BAA0B;YAAA;YAAA;YAAA;YAAA;YAAA;YAAAC,QAAA,GAAC,0BAChB,EAAC,GAAG,eAC5B/C,OAAA,CAACjB,IAAI;cAACsE,EAAE,EAAC,QAAQ;cAACP,SAAS,EAAC,6CAA6C;cAAAC,QAAA,EAAC;YAE1E;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACV,CAAC;AAEV,CAAC;AAACvD,EAAA,CAtSID,MAAM;EAAA,QAmBSP,OAAO,EACTV,WAAW;AAAA;AAAAmF,EAAA,GApBxBlE,MAAM;AAwSZ,eAAeA,MAAM;AAAC,IAAAkE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}