{"ast":null,"code":"var _jsxFileName = \"/workspaces/TrustFlow-App/frontend/src/components/ProfileModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, Camera, Mail, User, Save, Loader2, CheckCircle, AlertCircle } from 'lucide-react';\nimport { supabase } from '@/lib/supabase';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\nimport { InputOTP, InputOTPGroup, InputOTPSlot } from \"@/components/ui/input-otp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileModal = ({\n  isOpen,\n  onClose,\n  user,\n  profile,\n  onProfileUpdate\n}) => {\n  _s();\n  const [isEditing, setIsEditing] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [fullName, setFullName] = useState((profile === null || profile === void 0 ? void 0 : profile.full_name) || '');\n  const [email, setEmail] = useState((user === null || user === void 0 ? void 0 : user.email) || '');\n  const [avatarUrl, setAvatarUrl] = useState((profile === null || profile === void 0 ? void 0 : profile.avatar_url) || '');\n  const [avatarFile, setAvatarFile] = useState(null);\n\n  // Email Change State\n  const [isEmailChangePending, setIsEmailChangePending] = useState(false);\n  const [otp, setOtp] = useState('');\n  const [newEmailToVerify, setNewEmailToVerify] = useState('');\n  const fileInputRef = useRef(null);\n  const {\n    toast\n  } = useToast();\n  useEffect(() => {\n    if (isOpen) {\n      // Reset state when opening\n      setFullName((profile === null || profile === void 0 ? void 0 : profile.full_name) || '');\n      setEmail((user === null || user === void 0 ? void 0 : user.email) || '');\n      setAvatarUrl((profile === null || profile === void 0 ? void 0 : profile.avatar_url) || '');\n      setIsEditing(false);\n      setIsEmailChangePending(false);\n      setOtp('');\n    }\n  }, [isOpen, profile, user]);\n  const handleFileSelect = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setAvatarFile(file);\n      // Create a local preview\n      const previewUrl = URL.createObjectURL(file);\n      setAvatarUrl(previewUrl);\n    }\n  };\n  const handleSaveChanges = async () => {\n    setLoading(true);\n    try {\n      let uploadedAvatarUrl = avatarUrl;\n\n      // 1. Upload Photo if changed\n      if (avatarFile) {\n        const fileExt = avatarFile.name.split('.').pop();\n        const fileName = `${user.id}-${Math.random()}.${fileExt}`;\n        const filePath = `${fileName}`;\n        const {\n          error: uploadError\n        } = await supabase.storage.from('avatars').upload(filePath, avatarFile);\n        if (uploadError) throw uploadError;\n\n        // Get Public URL\n        const {\n          data: {\n            publicUrl\n          }\n        } = supabase.storage.from('avatars').getPublicUrl(filePath);\n        uploadedAvatarUrl = publicUrl;\n      }\n\n      // 2. Update Profile Data (Name, Photo) - Instant Update\n      const updates = {\n        id: user.id,\n        full_name: fullName,\n        avatar_url: uploadedAvatarUrl,\n        updated_at: new Date()\n      };\n      const {\n        error: profileError\n      } = await supabase.from('profiles').upsert(updates);\n      if (profileError) throw profileError;\n\n      // 3. Handle Email Change (if different)\n      if (email !== user.email) {\n        // Trigger Email Change Flow\n        const {\n          error: emailError\n        } = await supabase.auth.updateUser({\n          email: email\n        });\n        if (emailError) throw emailError;\n        setNewEmailToVerify(email);\n        setIsEmailChangePending(true);\n        toast({\n          title: \"Verification code sent\",\n          description: `Please enter the code sent to ${email} to verify the change.`\n        });\n        // We do NOT close the modal yet, we wait for OTP\n        setLoading(false);\n        return;\n      }\n\n      // If no email change, we are done\n      toast({\n        title: \"Profile updated successfully!\"\n      });\n      onProfileUpdate(); // Refresh parent state\n      setIsEditing(false);\n      onClose();\n    } catch (error) {\n      console.error(error);\n      toast({\n        title: \"Error updating profile\",\n        description: error.message,\n        variant: \"destructive\"\n      });\n    } finally {\n      if (!isEmailChangePending) setLoading(false);\n    }\n  };\n  const handleVerifyEmailOtp = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const {\n        error\n      } = await supabase.auth.verifyOtp({\n        email: newEmailToVerify,\n        token: otp,\n        type: 'email_change'\n      });\n      if (error) throw error;\n      toast({\n        title: \"Email updated successfully!\"\n      });\n      onProfileUpdate(); // Refresh everything\n      setIsEmailChangePending(false);\n      setIsEditing(false);\n      onClose();\n    } catch (error) {\n      console.error(error);\n      toast({\n        title: \"Verification failed\",\n        description: \"Invalid code. Please try again.\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(AnimatePresence, {\n    \"x-file-name\": \"ProfileModal\",\n    \"x-line-number\": \"159\",\n    \"x-component\": \"AnimatePresence\",\n    \"x-id\": \"ProfileModal_159\",\n    \"x-dynamic\": \"false\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\",\n      \"x-file-name\": \"ProfileModal\",\n      \"x-line-number\": \"160\",\n      \"x-component\": \"div\",\n      \"x-id\": \"ProfileModal_160\",\n      \"x-dynamic\": \"false\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          scale: 0.95\n        },\n        animate: {\n          opacity: 1,\n          scale: 1\n        },\n        exit: {\n          opacity: 0,\n          scale: 0.95\n        },\n        className: \"w-full max-w-md bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-violet-100 dark:border-violet-900 overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative h-32 bg-gradient-to-r from-violet-600 to-indigo-600\",\n          \"x-file-name\": \"ProfileModal\",\n          \"x-line-number\": \"168\",\n          \"x-component\": \"div\",\n          \"x-id\": \"ProfileModal_168\",\n          \"x-dynamic\": \"false\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors\",\n            \"x-file-name\": \"ProfileModal\",\n            \"x-line-number\": \"169\",\n            \"x-component\": \"button\",\n            \"x-id\": \"ProfileModal_169\",\n            \"x-dynamic\": \"false\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute -bottom-12 left-1/2 -translate-x-1/2\",\n            \"x-file-name\": \"ProfileModal\",\n            \"x-line-number\": \"175\",\n            \"x-component\": \"div\",\n            \"x-id\": \"ProfileModal_175\",\n            \"x-dynamic\": \"false\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative group\",\n              \"x-file-name\": \"ProfileModal\",\n              \"x-line-number\": \"176\",\n              \"x-component\": \"div\",\n              \"x-id\": \"ProfileModal_176\",\n              \"x-dynamic\": \"true\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-24 h-24 rounded-full border-4 border-white dark:border-gray-900 overflow-hidden bg-gray-100\",\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"177\",\n                \"x-component\": \"div\",\n                \"x-id\": \"ProfileModal_177\",\n                \"x-dynamic\": \"true\",\n                children: avatarUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: avatarUrl,\n                  alt: \"Profile\",\n                  className: \"w-full h-full object-cover\",\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"179\",\n                  \"x-component\": \"img\",\n                  \"x-id\": \"ProfileModal_179\",\n                  \"x-dynamic\": \"false\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 22\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full h-full flex items-center justify-center bg-violet-100 text-violet-600\",\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"181\",\n                  \"x-component\": \"div\",\n                  \"x-id\": \"ProfileModal_181\",\n                  \"x-dynamic\": \"false\",\n                  children: /*#__PURE__*/_jsxDEV(User, {\n                    className: \"w-10 h-10\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 22\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), isEditing && !isEmailChangePending && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  var _fileInputRef$current;\n                  return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n                },\n                className: \"absolute bottom-0 right-0 p-2 bg-violet-600 text-white rounded-full shadow-lg hover:bg-violet-700 transition-colors\",\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"187\",\n                \"x-component\": \"button\",\n                \"x-id\": \"ProfileModal_187\",\n                \"x-dynamic\": \"false\",\n                children: /*#__PURE__*/_jsxDEV(Camera, {\n                  className: \"w-4 h-4\",\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"191\",\n                  \"x-component\": \"Camera\",\n                  \"x-id\": \"ProfileModal_191\",\n                  \"x-dynamic\": \"false\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                ref: fileInputRef,\n                className: \"hidden\",\n                accept: \"image/*\",\n                onChange: handleFileSelect,\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"194\",\n                \"x-component\": \"input\",\n                \"x-id\": \"ProfileModal_194\",\n                \"x-dynamic\": \"false\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-16 pb-8 px-8\",\n          \"x-file-name\": \"ProfileModal\",\n          \"x-line-number\": \"206\",\n          \"x-component\": \"div\",\n          \"x-id\": \"ProfileModal_206\",\n          \"x-dynamic\": \"true\",\n          children: isEmailChangePending ?\n          /*#__PURE__*/\n          /* OTP View */\n          _jsxDEV(\"div\", {\n            className: \"space-y-6 text-center\",\n            \"x-file-name\": \"ProfileModal\",\n            \"x-line-number\": \"209\",\n            \"x-component\": \"div\",\n            \"x-id\": \"ProfileModal_209\",\n            \"x-dynamic\": \"false\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-center mb-4\",\n              \"x-file-name\": \"ProfileModal\",\n              \"x-line-number\": \"210\",\n              \"x-component\": \"div\",\n              \"x-id\": \"ProfileModal_210\",\n              \"x-dynamic\": \"false\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-green-100 p-3 rounded-full\",\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"211\",\n                \"x-component\": \"div\",\n                \"x-id\": \"ProfileModal_211\",\n                \"x-dynamic\": \"false\",\n                children: /*#__PURE__*/_jsxDEV(Mail, {\n                  className: \"w-6 h-6 text-green-600\",\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"212\",\n                  \"x-component\": \"Mail\",\n                  \"x-id\": \"ProfileModal_212\",\n                  \"x-dynamic\": \"false\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold\",\n              \"x-file-name\": \"ProfileModal\",\n              \"x-line-number\": \"215\",\n              \"x-component\": \"h3\",\n              \"x-id\": \"ProfileModal_215\",\n              \"x-dynamic\": \"false\",\n              children: \"Verify New Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-muted-foreground\",\n              \"x-file-name\": \"ProfileModal\",\n              \"x-line-number\": \"216\",\n              \"x-component\": \"p\",\n              \"x-id\": \"ProfileModal_216\",\n              \"x-dynamic\": \"false\",\n              children: [\"We sent a code to \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-foreground\",\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"217\",\n                \"x-component\": \"span\",\n                \"x-id\": \"ProfileModal_217\",\n                \"x-dynamic\": \"true\",\n                children: newEmailToVerify\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 39\n              }, this), \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-center py-2\",\n              \"x-file-name\": \"ProfileModal\",\n              \"x-line-number\": \"220\",\n              \"x-component\": \"div\",\n              \"x-id\": \"ProfileModal_220\",\n              \"x-dynamic\": \"false\",\n              children: /*#__PURE__*/_jsxDEV(InputOTP, {\n                maxLength: 6,\n                value: otp,\n                onChange: setOtp,\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"221\",\n                \"x-component\": \"InputOTP\",\n                \"x-id\": \"ProfileModal_221\",\n                \"x-dynamic\": \"true\",\n                children: /*#__PURE__*/_jsxDEV(InputOTPGroup, {\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"222\",\n                  \"x-component\": \"InputOTPGroup\",\n                  \"x-id\": \"ProfileModal_222\",\n                  \"x-dynamic\": \"true\",\n                  children: [/*#__PURE__*/_jsxDEV(InputOTPSlot, {\n                    index: 0,\n                    \"x-file-name\": \"ProfileModal\",\n                    \"x-line-number\": \"223\",\n                    \"x-component\": \"InputOTPSlot\",\n                    \"x-id\": \"ProfileModal_223\",\n                    \"x-dynamic\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(InputOTPSlot, {\n                    index: 1,\n                    \"x-file-name\": \"ProfileModal\",\n                    \"x-line-number\": \"224\",\n                    \"x-component\": \"InputOTPSlot\",\n                    \"x-id\": \"ProfileModal_224\",\n                    \"x-dynamic\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(InputOTPSlot, {\n                    index: 2,\n                    \"x-file-name\": \"ProfileModal\",\n                    \"x-line-number\": \"225\",\n                    \"x-component\": \"InputOTPSlot\",\n                    \"x-id\": \"ProfileModal_225\",\n                    \"x-dynamic\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(InputOTPSlot, {\n                    index: 3,\n                    \"x-file-name\": \"ProfileModal\",\n                    \"x-line-number\": \"226\",\n                    \"x-component\": \"InputOTPSlot\",\n                    \"x-id\": \"ProfileModal_226\",\n                    \"x-dynamic\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(InputOTPSlot, {\n                    index: 4,\n                    \"x-file-name\": \"ProfileModal\",\n                    \"x-line-number\": \"227\",\n                    \"x-component\": \"InputOTPSlot\",\n                    \"x-id\": \"ProfileModal_227\",\n                    \"x-dynamic\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(InputOTPSlot, {\n                    index: 5,\n                    \"x-file-name\": \"ProfileModal\",\n                    \"x-line-number\": \"228\",\n                    \"x-component\": \"InputOTPSlot\",\n                    \"x-id\": \"ProfileModal_228\",\n                    \"x-dynamic\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleVerifyEmailOtp,\n              className: \"w-full bg-violet-600 hover:bg-violet-700\",\n              disabled: loading || otp.length < 6,\n              \"x-file-name\": \"ProfileModal\",\n              \"x-line-number\": \"233\",\n              \"x-component\": \"Button\",\n              \"x-id\": \"ProfileModal_233\",\n              \"x-dynamic\": \"true\",\n              children: [loading && /*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"w-4 h-4 mr-2 animate-spin\",\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"238\",\n                \"x-component\": \"Loader2\",\n                \"x-id\": \"ProfileModal_238\",\n                \"x-dynamic\": \"false\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 33\n              }, this), \"Confirm Change\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 16\n          }, this) :\n          /*#__PURE__*/\n          /* Normal View / Edit View */\n          _jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            \"x-file-name\": \"ProfileModal\",\n            \"x-line-number\": \"244\",\n            \"x-component\": \"div\",\n            \"x-id\": \"ProfileModal_244\",\n            \"x-dynamic\": \"true\",\n            children: !isEditing ?\n            /*#__PURE__*/\n            /* Read Only Mode */\n            _jsxDEV(\"div\", {\n              className: \"text-center space-y-4\",\n              \"x-file-name\": \"ProfileModal\",\n              \"x-line-number\": \"247\",\n              \"x-component\": \"div\",\n              \"x-id\": \"ProfileModal_247\",\n              \"x-dynamic\": \"false\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"248\",\n                \"x-component\": \"div\",\n                \"x-id\": \"ProfileModal_248\",\n                \"x-dynamic\": \"false\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-2xl font-bold\",\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"249\",\n                  \"x-component\": \"h2\",\n                  \"x-id\": \"ProfileModal_249\",\n                  \"x-dynamic\": \"true\",\n                  children: fullName || 'User'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted-foreground\",\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"250\",\n                  \"x-component\": \"p\",\n                  \"x-id\": \"ProfileModal_250\",\n                  \"x-dynamic\": \"true\",\n                  children: email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                onClick: () => setIsEditing(true),\n                className: \"w-full\",\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"253\",\n                \"x-component\": \"Button\",\n                \"x-id\": \"ProfileModal_253\",\n                \"x-dynamic\": \"false\",\n                children: \"Edit Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 19\n            }, this) :\n            /*#__PURE__*/\n            /* Edit Mode */\n            _jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              \"x-file-name\": \"ProfileModal\",\n              \"x-line-number\": \"263\",\n              \"x-component\": \"div\",\n              \"x-id\": \"ProfileModal_263\",\n              \"x-dynamic\": \"false\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"264\",\n                \"x-component\": \"div\",\n                \"x-id\": \"ProfileModal_264\",\n                \"x-dynamic\": \"false\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"name\",\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"265\",\n                  \"x-component\": \"Label\",\n                  \"x-id\": \"ProfileModal_265\",\n                  \"x-dynamic\": \"false\",\n                  children: \"Full Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  id: \"name\",\n                  value: fullName,\n                  onChange: e => setFullName(e.target.value),\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"266\",\n                  \"x-component\": \"Input\",\n                  \"x-id\": \"ProfileModal_266\",\n                  \"x-dynamic\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"273\",\n                \"x-component\": \"div\",\n                \"x-id\": \"ProfileModal_273\",\n                \"x-dynamic\": \"false\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"email\",\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"274\",\n                  \"x-component\": \"Label\",\n                  \"x-id\": \"ProfileModal_274\",\n                  \"x-dynamic\": \"false\",\n                  children: \"Email Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  id: \"email\",\n                  type: \"email\",\n                  value: email,\n                  onChange: e => setEmail(e.target.value),\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"275\",\n                  \"x-component\": \"Input\",\n                  \"x-id\": \"ProfileModal_275\",\n                  \"x-dynamic\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-muted-foreground flex items-center gap-1\",\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"281\",\n                  \"x-component\": \"p\",\n                  \"x-id\": \"ProfileModal_281\",\n                  \"x-dynamic\": \"false\",\n                  children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                    className: \"w-3 h-3\",\n                    \"x-file-name\": \"ProfileModal\",\n                    \"x-line-number\": \"282\",\n                    \"x-component\": \"AlertCircle\",\n                    \"x-id\": \"ProfileModal_282\",\n                    \"x-dynamic\": \"false\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 25\n                  }, this), \"Changing email will require verification.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-3 pt-4\",\n                \"x-file-name\": \"ProfileModal\",\n                \"x-line-number\": \"287\",\n                \"x-component\": \"div\",\n                \"x-id\": \"ProfileModal_287\",\n                \"x-dynamic\": \"false\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"ghost\",\n                  className: \"flex-1\",\n                  onClick: () => setIsEditing(false),\n                  disabled: loading,\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"288\",\n                  \"x-component\": \"Button\",\n                  \"x-id\": \"ProfileModal_288\",\n                  \"x-dynamic\": \"false\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"flex-1 bg-violet-600 hover:bg-violet-700\",\n                  onClick: handleSaveChanges,\n                  disabled: loading,\n                  \"x-file-name\": \"ProfileModal\",\n                  \"x-line-number\": \"296\",\n                  \"x-component\": \"Button\",\n                  \"x-id\": \"ProfileModal_296\",\n                  \"x-dynamic\": \"true\",\n                  children: loading ? /*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"w-4 h-4 animate-spin\",\n                    \"x-file-name\": \"ProfileModal\",\n                    \"x-line-number\": \"301\",\n                    \"x-component\": \"Loader2\",\n                    \"x-id\": \"ProfileModal_301\",\n                    \"x-dynamic\": \"false\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 38\n                  }, this) : 'Save Changes'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileModal, \"PrPAf36O7ipb5ezl/Upw65ruYKQ=\", false, function () {\n  return [useToast];\n});\n_c = ProfileModal;\nexport default ProfileModal;\nvar _c;\n$RefreshReg$(_c, \"ProfileModal\");","map":{"version":3,"names":["React","useState","useRef","useEffect","motion","AnimatePresence","X","Camera","Mail","User","Save","Loader2","CheckCircle","AlertCircle","supabase","Button","Input","Label","useToast","InputOTP","InputOTPGroup","InputOTPSlot","jsxDEV","_jsxDEV","ProfileModal","isOpen","onClose","user","profile","onProfileUpdate","_s","isEditing","setIsEditing","loading","setLoading","fullName","setFullName","full_name","email","setEmail","avatarUrl","setAvatarUrl","avatar_url","avatarFile","setAvatarFile","isEmailChangePending","setIsEmailChangePending","otp","setOtp","newEmailToVerify","setNewEmailToVerify","fileInputRef","toast","handleFileSelect","e","file","target","files","previewUrl","URL","createObjectURL","handleSaveChanges","uploadedAvatarUrl","fileExt","name","split","pop","fileName","id","Math","random","filePath","error","uploadError","storage","from","upload","data","publicUrl","getPublicUrl","updates","updated_at","Date","profileError","upsert","emailError","auth","updateUser","title","description","console","message","variant","handleVerifyEmailOtp","preventDefault","verifyOtp","token","type","children","className","div","initial","opacity","scale","animate","exit","onClick","_jsxFileName","lineNumber","columnNumber","src","alt","_fileInputRef$current","current","click","ref","accept","onChange","maxLength","value","index","disabled","length","htmlFor","_c","$RefreshReg$"],"sources":["/workspaces/TrustFlow-App/frontend/src/components/ProfileModal.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, Camera, Mail, User, Save, Loader2, CheckCircle, AlertCircle } from 'lucide-react';\nimport { supabase } from '@/lib/supabase';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\nimport {\n  InputOTP,\n  InputOTPGroup,\n  InputOTPSlot,\n} from \"@/components/ui/input-otp\";\n\nconst ProfileModal = ({ isOpen, onClose, user, profile, onProfileUpdate }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [fullName, setFullName] = useState(profile?.full_name || '');\n  const [email, setEmail] = useState(user?.email || '');\n  const [avatarUrl, setAvatarUrl] = useState(profile?.avatar_url || '');\n  const [avatarFile, setAvatarFile] = useState(null);\n  \n  // Email Change State\n  const [isEmailChangePending, setIsEmailChangePending] = useState(false);\n  const [otp, setOtp] = useState('');\n  const [newEmailToVerify, setNewEmailToVerify] = useState('');\n\n  const fileInputRef = useRef(null);\n  const { toast } = useToast();\n\n  useEffect(() => {\n    if (isOpen) {\n        // Reset state when opening\n        setFullName(profile?.full_name || '');\n        setEmail(user?.email || '');\n        setAvatarUrl(profile?.avatar_url || '');\n        setIsEditing(false);\n        setIsEmailChangePending(false);\n        setOtp('');\n    }\n  }, [isOpen, profile, user]);\n\n  const handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setAvatarFile(file);\n      // Create a local preview\n      const previewUrl = URL.createObjectURL(file);\n      setAvatarUrl(previewUrl);\n    }\n  };\n\n  const handleSaveChanges = async () => {\n    setLoading(true);\n    try {\n      let uploadedAvatarUrl = avatarUrl;\n\n      // 1. Upload Photo if changed\n      if (avatarFile) {\n        const fileExt = avatarFile.name.split('.').pop();\n        const fileName = `${user.id}-${Math.random()}.${fileExt}`;\n        const filePath = `${fileName}`;\n\n        const { error: uploadError } = await supabase.storage\n          .from('avatars')\n          .upload(filePath, avatarFile);\n\n        if (uploadError) throw uploadError;\n\n        // Get Public URL\n        const { data: { publicUrl } } = supabase.storage\n          .from('avatars')\n          .getPublicUrl(filePath);\n        \n        uploadedAvatarUrl = publicUrl;\n      }\n\n      // 2. Update Profile Data (Name, Photo) - Instant Update\n      const updates = {\n        id: user.id,\n        full_name: fullName,\n        avatar_url: uploadedAvatarUrl,\n        updated_at: new Date(),\n      };\n\n      const { error: profileError } = await supabase\n        .from('profiles')\n        .upsert(updates);\n\n      if (profileError) throw profileError;\n\n      // 3. Handle Email Change (if different)\n      if (email !== user.email) {\n        // Trigger Email Change Flow\n        const { error: emailError } = await supabase.auth.updateUser({ email: email });\n        if (emailError) throw emailError;\n\n        setNewEmailToVerify(email);\n        setIsEmailChangePending(true);\n        toast({\n          title: \"Verification code sent\",\n          description: `Please enter the code sent to ${email} to verify the change.`,\n        });\n        // We do NOT close the modal yet, we wait for OTP\n        setLoading(false);\n        return; \n      }\n\n      // If no email change, we are done\n      toast({ title: \"Profile updated successfully!\" });\n      onProfileUpdate(); // Refresh parent state\n      setIsEditing(false);\n      onClose();\n\n    } catch (error) {\n      console.error(error);\n      toast({\n        title: \"Error updating profile\",\n        description: error.message,\n        variant: \"destructive\"\n      });\n    } finally {\n      if (!isEmailChangePending) setLoading(false);\n    }\n  };\n\n  const handleVerifyEmailOtp = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const { error } = await supabase.auth.verifyOtp({\n        email: newEmailToVerify,\n        token: otp,\n        type: 'email_change'\n      });\n\n      if (error) throw error;\n\n      toast({ title: \"Email updated successfully!\" });\n      onProfileUpdate(); // Refresh everything\n      setIsEmailChangePending(false);\n      setIsEditing(false);\n      onClose();\n    } catch (error) {\n        console.error(error);\n      toast({\n        title: \"Verification failed\",\n        description: \"Invalid code. Please try again.\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\">\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.95 }}\n          className=\"w-full max-w-md bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-violet-100 dark:border-violet-900 overflow-hidden\"\n        >\n          {/* Header */}\n          <div className=\"relative h-32 bg-gradient-to-r from-violet-600 to-indigo-600\">\n            <button \n              onClick={onClose}\n              className=\"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n            <div className=\"absolute -bottom-12 left-1/2 -translate-x-1/2\">\n              <div className=\"relative group\">\n                <div className=\"w-24 h-24 rounded-full border-4 border-white dark:border-gray-900 overflow-hidden bg-gray-100\">\n                   {avatarUrl ? (\n                     <img src={avatarUrl} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n                   ) : (\n                     <div className=\"w-full h-full flex items-center justify-center bg-violet-100 text-violet-600\">\n                        <User className=\"w-10 h-10\" />\n                     </div>\n                   )}\n                </div>\n                {isEditing && !isEmailChangePending && (\n                  <button \n                    onClick={() => fileInputRef.current?.click()}\n                    className=\"absolute bottom-0 right-0 p-2 bg-violet-600 text-white rounded-full shadow-lg hover:bg-violet-700 transition-colors\"\n                  >\n                    <Camera className=\"w-4 h-4\" />\n                  </button>\n                )}\n                <input \n                  type=\"file\" \n                  ref={fileInputRef} \n                  className=\"hidden\" \n                  accept=\"image/*\"\n                  onChange={handleFileSelect}\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Body */}\n          <div className=\"pt-16 pb-8 px-8\">\n            {isEmailChangePending ? (\n               /* OTP View */\n               <div className=\"space-y-6 text-center\">\n                  <div className=\"flex justify-center mb-4\">\n                    <div className=\"bg-green-100 p-3 rounded-full\">\n                        <Mail className=\"w-6 h-6 text-green-600\" />\n                    </div>\n                  </div>\n                  <h3 className=\"text-lg font-semibold\">Verify New Email</h3>\n                  <p className=\"text-sm text-muted-foreground\">\n                    We sent a code to <span className=\"font-medium text-foreground\">{newEmailToVerify}</span>.\n                  </p>\n                  \n                  <div className=\"flex justify-center py-2\">\n                    <InputOTP maxLength={6} value={otp} onChange={setOtp}>\n                        <InputOTPGroup>\n                        <InputOTPSlot index={0} />\n                        <InputOTPSlot index={1} />\n                        <InputOTPSlot index={2} />\n                        <InputOTPSlot index={3} />\n                        <InputOTPSlot index={4} />\n                        <InputOTPSlot index={5} />\n                        </InputOTPGroup>\n                    </InputOTP>\n                  </div>\n\n                  <Button \n                    onClick={handleVerifyEmailOtp} \n                    className=\"w-full bg-violet-600 hover:bg-violet-700\"\n                    disabled={loading || otp.length < 6}\n                  >\n                    {loading && <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />}\n                    Confirm Change\n                  </Button>\n               </div>\n            ) : (\n               /* Normal View / Edit View */\n               <div className=\"space-y-6\">\n                {!isEditing ? (\n                  /* Read Only Mode */\n                  <div className=\"text-center space-y-4\">\n                    <div>\n                      <h2 className=\"text-2xl font-bold\">{fullName || 'User'}</h2>\n                      <p className=\"text-muted-foreground\">{email}</p>\n                    </div>\n                    \n                    <Button \n                      variant=\"outline\" \n                      onClick={() => setIsEditing(true)}\n                      className=\"w-full\"\n                    >\n                      Edit Profile\n                    </Button>\n                  </div>\n                ) : (\n                  /* Edit Mode */\n                  <div className=\"space-y-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"name\">Full Name</Label>\n                      <Input \n                        id=\"name\" \n                        value={fullName} \n                        onChange={(e) => setFullName(e.target.value)} \n                      />\n                    </div>\n                    \n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"email\">Email Address</Label>\n                      <Input \n                        id=\"email\" \n                        type=\"email\"\n                        value={email} \n                        onChange={(e) => setEmail(e.target.value)} \n                      />\n                      <p className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                        <AlertCircle className=\"w-3 h-3\" />\n                        Changing email will require verification.\n                      </p>\n                    </div>\n\n                    <div className=\"flex gap-3 pt-4\">\n                       <Button \n                          variant=\"ghost\" \n                          className=\"flex-1\"\n                          onClick={() => setIsEditing(false)}\n                          disabled={loading}\n                        >\n                          Cancel\n                        </Button>\n                        <Button \n                          className=\"flex-1 bg-violet-600 hover:bg-violet-700\"\n                          onClick={handleSaveChanges}\n                          disabled={loading}\n                        >\n                          {loading ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : 'Save Changes'}\n                        </Button>\n                    </div>\n                  </div>\n                )}\n               </div>\n            )}\n          </div>\n        </motion.div>\n      </div>\n    </AnimatePresence>\n  );\n};\n\nexport default ProfileModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}