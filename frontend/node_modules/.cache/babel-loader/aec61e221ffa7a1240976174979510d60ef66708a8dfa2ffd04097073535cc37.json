{"ast":null,"code":"import { createClient } from '@supabase/supabase-js';\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL;\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY;\nif (!supabaseUrl || !supabaseAnonKey) {\n  console.error('Missing Supabase environment variables');\n}\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\n// Auth helpers\nexport const signUpWithEmail = async (email, password, fullName) => {\n  return await supabase.auth.signUp({\n    email,\n    password,\n    options: {\n      data: {\n        full_name: fullName\n      }\n    }\n  });\n};\nexport const signInWithEmail = async (email, password) => {\n  const {\n    data,\n    error\n  } = await supabase.auth.signInWithPassword({\n    email,\n    password\n  });\n  return {\n    data,\n    error\n  };\n};\nexport const signInWithMagicLink = async email => {\n  const {\n    data,\n    error\n  } = await supabase.auth.signInWithOtp({\n    email,\n    options: {\n      emailRedirectTo: `${window.location.origin}/dashboard`\n    }\n  });\n  return {\n    data,\n    error\n  };\n};\n\n// frontend/src/lib/supabase.js\n\n// ... (keep imports)\n\n// frontend/src/lib/supabase.js\n\n// frontend/src/lib/supabase.js\nexport const signInWithGoogle = async () => {\n  const {\n    data,\n    error\n  } = await supabase.auth.signInWithOAuth({\n    provider: 'google',\n    options: {\n      // REVERTED: Go back to the homepage (Landing)\n      redirectTo: window.location.origin\n    }\n  });\n  return {\n    data,\n    error\n  };\n};\n\n// Do the same for GitHub if you use it\n// frontend/src/lib/supabase.js\n\nexport const signInWithGithub = async () => {\n  const {\n    data,\n    error\n  } = await supabase.auth.signInWithOAuth({\n    provider: 'github',\n    options: {\n      // Auto-detects if you are on localhost or Codespace\n      redirectTo: window.location.origin\n    }\n  });\n  return {\n    data,\n    error\n  };\n};\n\n// ... (keep the rest of the file)\n\nexport const signOut = async () => {\n  const {\n    error\n  } = await supabase.auth.signOut();\n  return {\n    error\n  };\n};\nexport const getCurrentUser = async () => {\n  const {\n    data: {\n      user\n    }\n  } = await supabase.auth.getUser();\n  return user;\n};\nexport const getSession = async () => {\n  const {\n    data: {\n      session\n    }\n  } = await supabase.auth.getSession();\n  return session;\n};\nexport const verifySignupOtp = async (email, token) => {\n  const {\n    data,\n    error\n  } = await supabase.auth.verifyOtp({\n    email,\n    token,\n    type: 'signup'\n  });\n  return {\n    data,\n    error\n  };\n};","map":{"version":3,"names":["createClient","supabaseUrl","process","env","REACT_APP_SUPABASE_URL","supabaseAnonKey","REACT_APP_SUPABASE_ANON_KEY","console","error","supabase","signUpWithEmail","email","password","fullName","auth","signUp","options","data","full_name","signInWithEmail","signInWithPassword","signInWithMagicLink","signInWithOtp","emailRedirectTo","window","location","origin","signInWithGoogle","signInWithOAuth","provider","redirectTo","signInWithGithub","signOut","getCurrentUser","user","getUser","getSession","session","verifySignupOtp","token","verifyOtp","type"],"sources":["/workspaces/TrustFlow-App/frontend/src/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL;\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  console.error('Missing Supabase environment variables');\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\n// Auth helpers\nexport const signUpWithEmail = async (email, password, fullName) => {\n  return await supabase.auth.signUp({\n    email,\n    password,\n    options: {\n      data: {\n        full_name: fullName,\n      },\n    },\n  });\n};\n\nexport const signInWithEmail = async (email, password) => {\n  const { data, error } = await supabase.auth.signInWithPassword({\n    email,\n    password,\n  });\n  return { data, error };\n};\n\nexport const signInWithMagicLink = async (email) => {\n  const { data, error } = await supabase.auth.signInWithOtp({\n    email,\n    options: {\n      emailRedirectTo: `${window.location.origin}/dashboard`,\n    },\n  });\n  return { data, error };\n};\n\n// frontend/src/lib/supabase.js\n\n// ... (keep imports)\n\n// frontend/src/lib/supabase.js\n\n// frontend/src/lib/supabase.js\nexport const signInWithGoogle = async () => {\n  const { data, error } = await supabase.auth.signInWithOAuth({\n    provider: 'google',\n    options: {\n      // REVERTED: Go back to the homepage (Landing)\n      redirectTo: window.location.origin, \n    },\n  });\n  return { data, error };\n};\n\n// Do the same for GitHub if you use it\n// frontend/src/lib/supabase.js\n\nexport const signInWithGithub = async () => {\n  const { data, error } = await supabase.auth.signInWithOAuth({\n    provider: 'github',\n    options: {\n      // Auto-detects if you are on localhost or Codespace\n      redirectTo: window.location.origin, \n    },\n  });\n  return { data, error };\n};\n\n// ... (keep the rest of the file)\n\nexport const signOut = async () => {\n  const { error } = await supabase.auth.signOut();\n  return { error };\n};\n\nexport const getCurrentUser = async () => {\n  const { data: { user } } = await supabase.auth.getUser();\n  return user;\n};\n\nexport const getSession = async () => {\n  const { data: { session } } = await supabase.auth.getSession();\n  return session;\n};\n\n\nexport const verifySignupOtp = async (email, token) => {\n  const { data, error } = await supabase.auth.verifyOtp({\n    email,\n    token,\n    type: 'signup'\n  });\n  return { data, error };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}